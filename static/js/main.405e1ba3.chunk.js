(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{18:function(t,e,n){t.exports={container:"Container_container__3zFNt",title:"Container_title__pZ0za"}},19:function(t,e,n){t.exports={label:"Filter_label__39jWC",input:"Filter_input__PvKcH"}},29:function(t,e,n){t.exports={button:"ContactListItem_button__1kNMW"}},36:function(t,e,n){},37:function(t,e,n){},63:function(t,e,n){"use strict";n.r(e);var c=n(0),o=n(10),r=n.n(o),a=(n(36),n(37),n(2)),u=n(15),i=n(30),b=n(6),s=n(9),l=n.n(s),j=n(3),f=Object(j.b)("phoneBook/fetchContactsRequest"),O=Object(j.b)("phoneBook/fetchContactsSuccess"),h=Object(j.b)("phoneBook/fetchContactsError"),m=Object(j.b)("phoneBook/addContactRequest"),d=Object(j.b)("phoneBook/addContactSuccess"),p=Object(j.b)("phoneBook/addContactError"),v=Object(j.b)("phoneBook/deleteContactRequest"),x=Object(j.b)("phoneBook/deleteContactSuccess"),_=Object(j.b)("phoneBook/deleteContactError"),C=(Object(j.b)("phonebook/deleteContact"),Object(j.b)("phonebook/filterChange")),k=n(65);l.a.defaults.baseURL="http://localhost:4040";var g=n(7),N=n.n(g),y=n(1);var B=Object(b.b)(null,(function(t){return{onSubmit:function(e){var n=e.name,c=e.number;return t(function(t,e){return function(n){var c={id:Object(k.a)(),name:t,number:e};n(m()),l.a.post("/contacts",c).then((function(t){var e=t.data;return n(d(e))})).catch((function(t){return n(p(t.message))}))}}(n,c))}}}))((function(t){var e=t.onSubmit,n=Object(c.useState)({name:"",number:""}),o=Object(i.a)(n,2),r=o[0],b=o[1],s=function(t){var e=t.target,n=e.name,c=e.value;b(Object(u.a)(Object(u.a)({},r),{},Object(a.a)({},n,c)))};return Object(y.jsxs)("form",{className:N.a.form,onSubmit:function(t){t.preventDefault(),""!==r.name&&""!==r.number?(e(r),b({name:"",number:""})):alert("Enter name and number")},children:[Object(y.jsxs)("label",{className:N.a.label,children:["Name",Object(y.jsx)("input",{className:N.a.input,type:"text",name:"name",value:r.name,onChange:s})]}),Object(y.jsxs)("label",{className:N.a.label,children:["Number",Object(y.jsx)("input",{className:N.a.input,type:"text",name:"number",value:r.number,onChange:s})]}),Object(y.jsx)("button",{className:N.a.button,type:"submit",children:"Add contact"})]})})),F=n(18),D=n.n(F);var L=function(t){var e=t.title,n=t.children;return Object(y.jsxs)("section",{className:D.a.container,children:[Object(y.jsx)("h1",{className:D.a.title,children:e}),n]})},S=n(29),w=n.n(S);var E=function(t){var e=t.id,n=t.name,c=t.number,o=t.onDelete;return Object(y.jsxs)("li",{children:[n,": ",c,Object(y.jsx)("button",{className:w.a.button,type:"button",onClick:function(){return o(e)},children:"Delete"})]})},R=n(11),q=function(t){return t.phonebook.filter},I=function(t){return t.phonebook.loading},P=function(t){return t.phonebook.error},z=Object(R.a)([function(t){return t.phonebook.items},q],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}));var A=Object(b.b)((function(t){return{contacts:z(t)}}),(function(t){return{onDelete:function(e){return t((n=e,function(t){t(v()),l.a.delete("/contacts/".concat(n)).then((function(){return t(x(n))})).catch((function(e){return t(_(e.message))}))}));var n},onfetchContacts:function(){return t((function(t){t(f()),l.a.get("/contacts").then((function(e){return t(O(e.data))})).catch((function(e){return t(h(e.message))}))}))}}}))((function(t){var e=t.contacts,n=t.onDelete,o=t.onfetchContacts;return Object(c.useEffect)((function(){o()}),[]),Object(y.jsx)("ul",{children:null===e||void 0===e?void 0:e.map((function(t){var e=t.id,c=t.name,o=t.number;return Object(y.jsx)(E,{id:e,name:c,number:o,onDelete:n},e)}))})})),J=n(19),W=n.n(J);var Z=Object(b.b)((function(t){return{value:q(t)}}),(function(t){return{onChange:function(e){return t(C(e.target.value))}}}))((function(t){var e=t.value,n=t.onChange;return Object(y.jsxs)("label",{className:W.a.label,children:["Find contacts by name",Object(y.jsx)("input",{className:W.a.input,type:"text",value:e,onChange:n})]})}));var H=function(t){return Object(y.jsx)("h3",{children:"Loading..."})};var K,M,Q,T=Object(b.b)((function(t){return{isLoading:I(t),error:P(t)}}))((function(t){var e=t.isLoading,n=t.error;return Object(y.jsxs)(L,{title:"Phonebook",children:[Object(y.jsx)(B,{}),Object(y.jsx)("h2",{children:"Contacts"}),Object(y.jsx)(Z,{}),!n&&Object(y.jsx)(A,{}),n&&Object(y.jsx)("h3",{children:n}),e&&Object(y.jsx)(H,{})]})})),U=n(31),X=n(5),G=Object(j.c)([],(K={},Object(a.a)(K,O,(function(t,e){return e.payload})),Object(a.a)(K,d,(function(t,e){var n=e.payload;return[].concat(Object(U.a)(t),[n])})),Object(a.a)(K,x,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),K)),V=Object(j.c)("",Object(a.a)({},C,(function(t,e){return e.payload}))),Y=Object(j.c)(!0,(M={},Object(a.a)(M,m,(function(){return!0})),Object(a.a)(M,d,(function(){return!1})),Object(a.a)(M,p,(function(){return!1})),Object(a.a)(M,v,(function(){return!0})),Object(a.a)(M,x,(function(){return!1})),Object(a.a)(M,_,(function(){return!1})),Object(a.a)(M,f,(function(){return!0})),Object(a.a)(M,O,(function(){return!1})),Object(a.a)(M,h,(function(){return!1})),M)),$=Object(j.c)(null,(Q={},Object(a.a)(Q,p,(function(t,e){return e.payload})),Object(a.a)(Q,_,(function(t,e){return e.payload})),Object(a.a)(Q,h,(function(t,e){return e.payload})),Q)),tt=Object(X.c)({items:G,filter:V,loading:Y,error:$}),et=Object(j.a)({reducer:{phonebook:tt},devTools:!1});r.a.render(Object(y.jsx)(b.a,{store:et,children:Object(y.jsx)(T,{})}),document.getElementById("root"))},7:function(t,e,n){t.exports={form:"Form_form__QlAID",label:"Form_label__3Bjhm",input:"Form_input__3XBav",button:"Form_button__1cZhP"}}},[[63,1,2]]]);
//# sourceMappingURL=main.405e1ba3.chunk.js.map